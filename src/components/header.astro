<header
  class="dark:bg-primary-50 text-tbase-500/90 sticky top-0 z-50 flex w-full items-center justify-between bg-white px-4 py-4 md:px-6"
>
  <div class="font-instrument text-center text-xl font-bold text-nowrap">
    <a href="/" class="hover:text-primary-500 transition-colors">&lt;&gt;Jwd&lt;/&gt;</a>
  </div>

  <nav class="flex items-center gap-8" aria-label="Main navigation">
    <a href="/about" class="font-geist hover:text-primary-500 font-semibold transition-colors"> About </a>

    <!-- BotÃ³n toggle -->
    <button
      id="theme-toggle"
      class="bg-primary-50 dark:bg-primary-200 hover:bg-primary-100 dark:hover:bg-primary-100 relative flex h-10 w-10 cursor-pointer items-center justify-center rounded-full transition-colors duration-300 hover:shadow-lg"
    >
      <span class="sr-only">Change theme</span>
      <div class="relative h-6 w-6 overflow-hidden">
        <!-- Moon icon -->
        <svg
          class="absolute h-full w-full scale-100 rotate-0 opacity-100 transition-all duration-500 dark:scale-0 dark:-rotate-90 dark:opacity-0"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79Z" fill="currentColor"></path>
        </svg>

        <!-- Sun icon -->
        <svg
          class="absolute h-full w-full scale-0 rotate-90 text-white opacity-0 transition-all duration-500 dark:scale-100 dark:rotate-0 dark:opacity-100"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12 2V4M12 20V22M4 12H2M6.31412 6.31412L4.8999 4.8999M17.6859 6.31412L19.1001 4.8999M6.31412 17.69L4.8999 19.1042M17.6859 17.69L19.1001 19.1042M22 12H20M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"></path>
        </svg>
      </div>
    </button>
  </nav>
</header>

<script>
  const button = document.getElementById('theme-toggle');
  const html = document.documentElement;
  const storedTheme = localStorage.getItem('theme');

  if (storedTheme) {
    html.classList.toggle('dark', storedTheme === 'dark');
  }
  if (!storedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    html.classList.add('dark');
  }

  button?.addEventListener('click', () => {
    html.classList.toggle('dark');
    localStorage.setItem('theme', html.classList.contains('dark') ? 'dark' : 'light');
  });
</script>
